E = T * T.' - eye(nNodes); % E is nxn matrix which contains 1 in E(i,j) if
                          % type(i) = type(j) and i != j
    %%%%% build proximity effect. Now, we are considering threshold
    %%%%% function in order to take into account the proximity effect.
    Box = D < 20;
    P = Box  - eye(nNodes);
    
    F = log(D + 1);
    A = log(A + 1); % scaling down
    D = log(D + 1);
    M = A .* F;
====================================================================
A = [ 0	150	0	0	0	0;
150	0	0	20	0	0;
40	0	0	0	40	0;
50	0	0	0	0	0;
0	0	0	0	0	100;
0	0	250	0	80	0]


Type = [1	1	1	2	2	2]

T = [1	0;
1	0;
1	0;
0	1;
0	1;
0	1;
]

D = [0	100	1300	100	900	1100;
100	0	1100	100	1000	1200;
1300	1100	0	1050	100	100;
100	100	1050	0	1000	1100;
900	1000	100	1000	0	100;
1100	1200	100	1100	100	0;
]

Gamma = [
0.7	0.3;
0.3	0.7;
]  


PR: 
    0.4545
    0.4365
    0.0000
    0.1090
    0.0000
    0.0000
    
HINSIDE:
    0.3097
    0.2881
    0.0768
    0.1174
    0.0988
    0.1091

======================================

A = [ 0	150	40	0	0	0;
150	0	0	20	0	0;
0	0	0	0	40	0;
50	0	0	0	0	0;
0	0	0	0	0	100;
0	0	250	0	80	0]

HINSIDE
    0.2990
    0.2428
    0.2970
    0.0387
    0.0785
    0.0439
PR
    0.1094
    0.0785
    0.1943
    0.0502
    0.2933
    0.2743
======================================

A = [ 0	150	0	0	0	0;
150	0	0	20	0	0;
40	0	0	0	40	0;
50	0	0	0	0	0;
0	0	0	0	0	100;
0	0	400	0	80	0]

HINSIDE
    0.2987
    0.2425
    0.2987
    0.0384
    0.0782
    0.0435
 PR
 
    0.1094
    0.0785
    0.1981
    0.0502
    0.2912
    0.2726
=========================================== 

A = [ 0	150	0	0	0	0;
150	0	0	20	0	0;
60	0	0	0	40	0;
50	0	0	0	0	0;
0	0	0	0	0	100;
0	0	400	0	80	0]

PR:     0.3145
    0.2922
    0.0764
    0.1187
    0.0935
    0.1046
HINSIDE:

    0.4181
    0.2580
    0.1640
    0.0432
    0.0704
    0.0463
==============================================
A = [ 0	150	30	0	0	0;
150	0	0	20	0	0;
40	0	0	0	40	0;
50	0	40	0	0	0;
0	0	0	0	0	100;
0	0	250	0	80	0]

PR
0.2171
    0.1345
    0.2141
    0.0682
    0.1845
    0.1818
HINSIDE
0.3713
    0.2235
    0.3050
    0.0256
    0.0513
    0.0234
 ======================================================
 A = [ 0	150	30	0	0	0;
150	0	0	20	0	0;
40	0	0	0	40	0;
50	0	40	0	0	0;
0	0	0	0	0	100;
0	0	250	0	80	0]

D = [0	100	1300	100	900	1100;
100	0	1100	100	1000	1200;
1300	1100	0	1250	100	100;
100	100	1250	0	1000	1100;
900	1000	100	1000	0	100;
1100	1200	100	1100	100	0;
]
================================================

 A = [ 0	150	30	0	0	0;
150	0	50	20	0	0;
40	0	0	0	40	0;
150	0	0	0	0	0;
0	0	0	0	0	100;
0	0	100	0	80	0]

D = [0	100	1300	100	900	1100;
100	0	1300	100	1000	1200;
1300	1300	0	1250	100	100;
100	100	1250	0	1000	1100;
900	1000	100	1000	0	100;
1100	1200	100	1100	100	0;
]



    0.2092
    0.1305
    0.2173
    0.0532
    0.1972
    0.1925
    
    r =

    0.3292
    0.1859
    0.3349
    0.0273
    0.0808
    0.0420
    
==================================== 
 A = [ 0	150	30	0	0	0;
150	0	50	20	0	0;
40	0	0	0	40	0;
150	0	0	0	0	0;
0	0	0	0	0	100;
0	0	50	0	80	0]   

D = [0	100	1300	100	900	1100;
100	0	1300	100	1000	1200;
1300	1300	0	1250	100	100;
100	100	1250	0	1000	1100;
900	1000	100	1000	0	100;
1100	1200	100	1100	100	0;
]

0.2057
    0.1288
    0.2113
    0.0528
    0.2035
    0.1979

>> r = powerIteration( Gamma , nNodes, M, T, E, P)

r =

    0.3293
    0.1862
    0.3343
    0.0274
    0.0808
    0.0420
==============================================
 A = [ 0	150	30	0	0	0;
150	0	50	20	0	0;
40	0	0	0	20	0;
150	0	0	0	0	0;
0	0	0	0	0	100;
0	0	50	0	80	0]      

r =

    0.3370
    0.1908
    0.3411
    0.0281
    0.0677
    0.0353

>> PageRank(A, 0.85, 500)
converged

ans =

    0.2192
    0.1356
    0.2134
    0.0543
    0.1905
    0.1869
    
important 
=============================================

 A = [ 0	150	30	0	0	0;
150	0	50	20	0	0;
40	0	0	0	20	0;
150	0	0	0	0	0;
0	0	0	0	0	200;
0	0	50	0	80	0]   

ans =

    0.2192
    0.1356
    0.2134
    0.0543
    0.1905
    0.1869

>> r = powerIteration( Gamma , nNodes, M, T, E, P)

r =

    0.3331
    0.1884
    0.3380
    0.0277
    0.0706
    0.0422
======================================================
 A = [ 0	150	30	0	0	0;
150	0	50	20	0	0;
40	0	0	0	10	0;
150	0	0	0	0	0;
0	0	0	0	0	800;
0	0	50	0	20	0] 

r =

    0.3385
    0.1914
    0.3434
    0.0282
    0.0562
    0.0423

>> PageRank(A, 0.85, 500)
converged

ans =

    0.3401
    0.2658
    0.1798
    0.0456
    0.0777
    0.0911
    
    important
====================================================
 A = [ 0	150	30	0	0	0;
150	0	50	20	0	0;
40	0	0	0	10	0;
150	0	0	0	0	0;
0	0	0	0	0	600;
0	0	50	0	20	0] 

r =

    0.3411
    0.1931
    0.3457
    0.0284
    0.0533
    0.0385

>> PageRank(A, 0.85, 500)
converged

ans =

    0.2439
    0.1481
    0.2280
    0.0569
    0.1611
    0.1620
    
    important top
    
    
 ====================================================================
     A = [ 0	150	30	0	0	0;
150	0	50	20	0	0;
40	0	0	0	10	0;
150	0	0	0	0	0;
0	0	0	0	0	400;
0	0	50	0	20	0] 

ns =

    0.3401
    0.2658
    0.1798
    0.0456
    0.0777
    0.0911

>> r = powerIteration( Gamma , nNodes, M, T, E, P)

r =

    0.3411
    0.1931
    0.3457
    0.0284
    0.0533
    0.0385
    
    better important
====================================================================
     A = [ 0	150	30	0	0	0;
150	0	50	20	0	0;
40	0	0	0	10	0;
150	0	0	0	0	0;
0	0	0	0	0	300;
0	0	50	0	20	0] 

best
r =

    0.3437
    0.1947
    0.3477
    0.0287
    0.0518
    0.0334

>> PageRank(A, 0.85, 500)
converged

ans =

    0.2439
    0.1481
    0.2280
    0.0569
    0.1611
    0.1620
    